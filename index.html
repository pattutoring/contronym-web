import React, { useState } from "react";

export default function ContronymGame() {
  const [input, setInput] = useState("");
  const [showHint, setShowHint] = useState(false);
  const [message, setMessage] = useState("");

  // Editable words and hint
  const correctAnswer = "evolve";
  const leftWord = "permit";
  const rightWord = "restrict";
  const hintText = "Think of a word that means both to progress and to change.";

  const handleSubmit = () => {
    if (input.trim().toLowerCase() === correctAnswer.toLowerCase()) {
      setMessage(
        "Brilliant! You’ve found the correct inversion — the neutrino and its antineutrino unify through semantic symmetry!"
      );
    } else {
      setMessage("Not quite — try again!");
    }
  };

  return (
    <div className="flex flex-col items-center text-center p-6">
      <h1 className="text-3xl font-bold mb-4">Contronym Collider</h1>

      <div className="relative w-full max-w-lg h-[300px]">
        <svg viewBox="0 0 400 300" className="w-full h-full">
          {/* Axes */}
          <line x1="0" y1="250" x2="400" y2="250" stroke="black" strokeWidth="2" />
          <text x="360" y="270" fontStyle="italic" fill="black">
            transverse
          </text>

          <line x1="200" y1="0" x2="200" y2="300" stroke="red" strokeWidth="2" />
          <text x="210" y="20" fontStyle="italic" fill="black">
            conjugate
          </text>

          {/* Parabola (U-shaped, narrow, low vertex) */}
          <path
            d="M 50 100 Q 200 260 350 100"
            fill="none"
            stroke="lightblue"
            strokeDasharray="6,6"
            strokeWidth="2"
          />

          {/* Words along sides */}
          <text x="80" y="80" fill="black" fontWeight="bold">
            {leftWord}
          </text>
          <text x="295" y="80" fill="black" fontWeight="bold">
            {rightWord}
          </text>
        </svg>
      </div>

      {/* Answer input */}
      <div className="mt-4">
        <input
          type="text"
          placeholder="Type your answer..."
          value={input}
          onChange={(e) => setInput(e.target.value)}
          className="border border-gray-400 rounded px-3 py-2 mr-2"
        />
        <button
          onClick={handleSubmit}
          className="bg-blue-500 text-white px-4 py-2 rounded"
        >
          Submit
        </button>
      </div>

      {/* Show Hint Button */}
      <div className="mt-4">
        <button
          onClick={() => setShowHint(!showHint)}
          className="bg-gray-200 px-3 py-2 rounded"
        >
          {showHint ? "Hide Hint" : "Show Hint"}
        </button>
        {showHint && (
          <p className="mt-2 text-gray-700 italic">{hintText}</p>
        )}
      </div>

      {/* Neutrino Symbol with dashed trail below hint */}
      <div className="mt-6 relative">
        <svg width="80" height="80" className="mx-auto">
          {/* Dashed cartoon loop */}
          <path
            d="M40 40 q10 -20 20 0 q-10 20 -20 0 z"
            fill="none"
            stroke="black"
            strokeDasharray="4,4"
          />
          {/* Neutrino symbol */}
          <text x="36" y="45" fontSize="20" fontWeight="bold" fill="black">
            ν
          </text>
        </svg>
      </div>

      {/* Message */}
      <p className="mt-4 text-lg text-blue-600">{message}</p>
    </div>
  );
}
